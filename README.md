# Дипломный проект по профессии «Тестировщик»

Приложение — это веб-сервис, который предлагает купить тур по определённой цене двумя способами:

1. Обычная оплата по дебетовой карте.
2. Уникальная технология: выдача кредита по данным банковской карты.

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей, далее Payment Gate;
* кредитному сервису, далее Credit Gate.

Заявлена поддержка двух СУБД:

* MySQL;
* PostgreSQL.

Приложение в собственной СУБД должно сохранять информацию о том, успешно ли был совершён платёж и каким способом. Данные карт при этом сохранять не допускается.

**Ключевая задача** — автоматизация позитивных и негативных сценариев покупки тура.

## Начало работы


### Предусловия

Перед началом работы установить на ПК следующие программы:
* Google Chrome - браузер. Необходим для контроля работы сервиса
* IntelliJ IDEA - среда разработки для написания автотестов на языке Java
* DBeaver - программа для работы с СУБД. Необходима для контроля условия: в БД сохраняется информация о том, успешно ли был совершён платёж и каким способом. Данные карт при этом не сохраняются 
* Docker - программа для развертывания и управления приложениями в виртуальной среде. Необходим в т.ч для работы с симулятором банковских сервисов

### Установка и запуск
Для запуска приложения необходимо клонировать [репозиторий]() к себе на ПК в терминале программы IntelliJ IDEA с помощью команды `git clone git@github.com:Darythefirst/Aqa.Diploma.git`

### Запуск приложения

1. Запустить Docker на своем ПК;
2. Открыть склонированный проект в IntelliJ IDEA;
3. Открыть терминал программы IntelliJ IDEA, ввести команду `docker-compose up --build`, дождаться загрузки контейнеров
4. Открыть вторую вкладку терминала, запустить приложение с помощью ввода команды:
 * `java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar artifacts/aqa-shop.jar` - для запуска с поддержкой БД PostgreSQL
 * `java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar artifacts/aqa-shop.jar` - для запуска с поддержкой БД MySQL
5. Открыть Google Chrome, ввести адрес `http://localhost:8080/` для проверки доступности сервиса

### Запуск тестов

Открыть новую вкладку в терминале IntelliJ IDEA, ввести команду:
* `./gradlew clean test "-Ddb.url=jdbc:postgresql://localhost:5432/app"` - для запуска тестов с БД PostgreSQL
* `./gradlew clean test "-Ddb.url=jdbc:mysql://localhost:3306/app"` - для запуска тестов с БД MySQL

### Генерация отчетов по результатам тестирования

После запуска тестов, открыть новую вкладку в терминале IntelliJ IDEA, ввести команду:
`./gradlew allureServe`

### Завершение

Для остановки всех процессов (генерация отчетов, работа приложения, работа контейнеров) необходимо в каждой открытой вкладке терминала применить сочетание клавиш Ctrl+C

## Документация

* [План автоматизации](https://github.com/Darythefirst/Aqa.Diploma/blob/977d67002c536d9c5e1d5c4bb7357596a57b4af8/Plan.md);
* [Отчет о тестировании]();
* [Отчет об автоматизации]();